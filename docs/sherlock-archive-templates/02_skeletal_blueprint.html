<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SHERLOCK ARCHIVE — Skeletal Blueprint</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
  @page { size: A4; margin: 0; }
  * { margin: 0; padding: 0; box-sizing: border-box; }

  .page {
    width: 794px;
    height: 1123px;
    background: #0A0A1A;
    color: #F0F0F0;
    font-family: 'Inter', sans-serif;
    position: relative;
    overflow: hidden;
    padding: 48px 56px;
    display: flex;
    flex-direction: column;
  }

  .bg-glow {
    position: absolute;
    width: 400px; height: 400px;
    border-radius: 50%;
    filter: blur(160px);
    opacity: 0.06;
    pointer-events: none;
    z-index: 0;
  }
  .bg-glow--1 { background: #FF2D9B; top: 200px; left: -100px; }
  .bg-glow--2 { background: #00D4FF; bottom: -100px; right: -100px; }

  /* 페이지 헤더 (모든 페이지 공통) */
  .page-header {
    position: relative; z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(139, 139, 163, 0.1);
    margin-bottom: 36px;
  }
  .page-header__section {
    font-family: 'Fira Code', monospace;
    font-size: 11px;
    color: #FF2D9B;
    letter-spacing: 3px;
    text-transform: uppercase;
  }
  .page-header__case {
    font-family: 'Fira Code', monospace;
    font-size: 11px;
    color: #8B8BA3;
    letter-spacing: 2px;
  }

  /* 섹션 타이틀 */
  .section-title {
    position: relative; z-index: 1;
    margin-bottom: 32px;
  }
  .section-title__number {
    font-family: 'Fira Code', monospace;
    font-size: 12px;
    color: #FF2D9B;
    letter-spacing: 4px;
    margin-bottom: 8px;
  }
  .section-title__text {
    font-size: 32px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #F0F0F0;
  }
  .section-title__desc {
    font-size: 14px;
    color: #8B8BA3;
    margin-top: 8px;
    line-height: 1.5;
  }

  /* 얼굴 분석 메인 영역 */
  .blueprint-main {
    position: relative; z-index: 1;
    display: flex;
    gap: 32px;
    flex: 1;
    margin-bottom: 28px;
  }

  /* 왼쪽: 얼굴 이미지 + 벡터 오버레이 */
  .face-map {
    width: 320px;
    height: 420px;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    background: #1A1A2E;
    border: 1px solid rgba(255, 45, 155, 0.1);
    flex-shrink: 0;
  }
  .face-map img { width: 100%; height: 100%; object-fit: cover; }
  .face-map__overlay {
    position: absolute;
    inset: 0;
    /* 여기에 SVG 벡터 라인 오버레이 */
  }
  /* 비율 가이드라인 (CSS 시뮬레이션) */
  .guide-line {
    position: absolute;
    left: 10%;
    right: 10%;
    height: 1px;
    border-top: 1px dashed rgba(255, 45, 155, 0.4);
  }
  .guide-line--upper { top: 33%; }
  .guide-line--middle { top: 55%; }
  .guide-line--lower { top: 75%; }
  .guide-label {
    position: absolute;
    right: -4px;
    transform: translateX(100%);
    font-family: 'Fira Code', monospace;
    font-size: 9px;
    color: #FF2D9B;
    white-space: nowrap;
    padding-left: 8px;
  }

  /* 오른쪽: 분석 데이터 */
  .blueprint-data {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .data-card {
    background: rgba(26, 26, 46, 0.5);
    border: 1px solid rgba(139, 139, 163, 0.06);
    border-radius: 10px;
    padding: 18px 22px;
  }
  .data-card__title {
    font-family: 'Fira Code', monospace;
    font-size: 11px;
    color: #FF2D9B;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 10px;
  }
  .data-card__row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid rgba(139, 139, 163, 0.05);
  }
  .data-card__row:last-child { border-bottom: none; }
  .data-card__label {
    font-size: 13px;
    color: #8B8BA3;
  }
  .data-card__value {
    font-family: 'Fira Code', monospace;
    font-size: 14px;
    font-weight: 600;
    color: #F0F0F0;
  }
  .data-card__value--pink { color: #FF2D9B; }

  /* 하단 포니 코멘트 */
  .pony-comment {
    position: relative; z-index: 1;
    background: rgba(255, 45, 155, 0.04);
    border: 1px solid rgba(255, 45, 155, 0.1);
    border-radius: 10px;
    padding: 20px 24px;
    margin-top: auto;
  }
  .pony-comment__label {
    font-family: 'Fira Code', monospace;
    font-size: 10px;
    color: #FF2D9B;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 8px;
  }
  .pony-comment__text {
    font-size: 14px;
    font-style: italic;
    color: #D0D0E0;
    line-height: 1.7;
  }

  /* 페이지 넘버 */
  .page-number {
    position: absolute;
    bottom: 28px; right: 56px;
    font-family: 'Fira Code', monospace;
    font-size: 11px;
    color: #8B8BA3;
    z-index: 1;
  }
</style>
</head>
<body style="background:#000;display:flex;justify-content:center;padding:40px;">

<div class="page">
  <div class="bg-glow bg-glow--1"></div>
  <div class="bg-glow bg-glow--2"></div>

  <!-- 페이지 헤더 -->
  <div class="page-header">
    <span class="page-header__section">02 — Skeletal Blueprint</span>
    <span class="page-header__case">Case #{{analysis_id}}</span>
  </div>

  <!-- 섹션 타이틀 -->
  <div class="section-title">
    <div class="section-title__number">SECTION 02</div>
    <div class="section-title__text">Skeletal Blueprint</div>
    <div class="section-title__desc">Your facial architecture — proportions, angles, and the structural foundation for your K-GLOW transformation.</div>
  </div>

  <!-- 메인: 얼굴 맵 + 데이터 -->
  <div class="blueprint-main">

    <!-- 얼굴 이미지 + 가이드라인 -->
    <div class="face-map">
      <!-- {{face_image_with_landmarks}} -->
      <div style="width:100%;height:100%;background:linear-gradient(180deg,#1A1A2E,#252540);display:flex;align-items:center;justify-content:center;color:#8B8BA3;font-family:'Fira Code',monospace;font-size:11px;text-align:center;padding:20px;">FACE MAP<br>+ VECTOR<br>OVERLAY</div>

      <!-- 비율 가이드라인 -->
      <div class="guide-line guide-line--upper">
        <span class="guide-label">Upper Face {{upper_ratio}}%</span>
      </div>
      <div class="guide-line guide-line--middle">
        <span class="guide-label">Mid Face {{mid_ratio}}%</span>
      </div>
      <div class="guide-line guide-line--lower">
        <span class="guide-label">Lower Face {{lower_ratio}}%</span>
      </div>
    </div>

    <!-- 분석 데이터 카드들 -->
    <div class="blueprint-data">

      <div class="data-card">
        <div class="data-card__title">Face Shape</div>
        <div class="data-card__row">
          <span class="data-card__label">Classification</span>
          <span class="data-card__value data-card__value--pink">{{face_shape}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Width-to-Height</span>
          <span class="data-card__value">{{face_wh_ratio}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Jaw Angle</span>
          <span class="data-card__value">{{jaw_angle}}°</span>
        </div>
      </div>

      <div class="data-card">
        <div class="data-card__title">Proportions</div>
        <div class="data-card__row">
          <span class="data-card__label">Upper : Mid : Lower</span>
          <span class="data-card__value">{{upper_ratio}} : {{mid_ratio}} : {{lower_ratio}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Eye Spacing</span>
          <span class="data-card__value">{{eye_spacing}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Philtrum</span>
          <span class="data-card__value">{{philtrum}}</span>
        </div>
      </div>

      <div class="data-card">
        <div class="data-card__title">Symmetry Analysis</div>
        <div class="data-card__row">
          <span class="data-card__label">L/R Symmetry</span>
          <span class="data-card__value data-card__value--pink">{{symmetry_score}}%</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Eye Level Balance</span>
          <span class="data-card__value">{{eye_balance}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Lip Center Offset</span>
          <span class="data-card__value">{{lip_offset}}mm</span>
        </div>
      </div>

      <div class="data-card">
        <div class="data-card__title">Skin Profile</div>
        <div class="data-card__row">
          <span class="data-card__label">Melanin Level</span>
          <span class="data-card__value">{{melanin_level}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Undertone</span>
          <span class="data-card__value data-card__value--pink">{{undertone}}</span>
        </div>
        <div class="data-card__row">
          <span class="data-card__label">Skin Hex</span>
          <span class="data-card__value">{{skin_hex}}</span>
        </div>
      </div>

    </div>
  </div>

  <!-- 포니 코멘트 -->
  <div class="pony-comment">
    <div class="pony-comment__label">Pony's Structural Note</div>
    <p class="pony-comment__text">"{{pony_skeletal_comment}}"</p>
  </div>

  <div class="page-number">02</div>
</div>

</body>
</html>
